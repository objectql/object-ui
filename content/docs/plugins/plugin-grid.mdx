---
title: "Plugin Grid"
---

import { InteractiveDemo } from '@/app/components/InteractiveDemo';
import { PluginLoader } from '@/app/components/PluginLoader';

Advanced data grid with sorting, filtering, pagination, and row selection capabilities.

## Installation

```bash
npm install @object-ui/plugin-grid
```

<PluginLoader plugins={['grid']}>

## Interactive Examples

<InteractiveDemo
  schema={{
    type: "card",
    children: [
      {
        type: "flex",
        className: "items-center justify-between mb-4",
        children: [
          { type: "text", content: "Product Inventory", className: "text-lg font-semibold" },
          {
            type: "flex",
            className: "gap-2",
            children: [
              { type: "button", label: "Filter", variant: "outline", size: "sm", icon: "Filter" },
              { type: "button", label: "Export", variant: "outline", size: "sm", icon: "Download" }
            ]
          }
        ]
      },
      {
        type: "table",
        columns: [
          { header: "Product", accessorKey: "product" },
          { header: "SKU", accessorKey: "sku" },
          { header: "Price", accessorKey: "price" },
          { header: "Stock", accessorKey: "stock" },
          { header: "Status", accessorKey: "status" }
        ],
        data: [
          { product: "Wireless Mouse", sku: "WM-001", price: "$29.99", stock: "150", status: "In Stock" },
          { product: "Mechanical Keyboard", sku: "MK-002", price: "$89.99", stock: "42", status: "Low Stock" },
          { product: "USB-C Hub", sku: "UH-003", price: "$45.00", stock: "200", status: "In Stock" },
          { product: "Monitor Stand", sku: "MS-004", price: "$35.00", stock: "0", status: "Out of Stock" },
          { product: "Webcam HD", sku: "WC-005", price: "$65.00", stock: "88", status: "In Stock" }
        ]
      }
    ]
  }}
  title="Product Inventory Grid"
  description="Data grid with sorting and filtering for product management"
/>

<InteractiveDemo
  schema={{
    type: "card",
    children: [
      {
        type: "flex",
        className: "items-center justify-between mb-4",
        children: [
          { type: "text", content: "Team Members", className: "text-lg font-semibold" },
          { type: "button", label: "Invite Member", variant: "default", size: "sm", icon: "UserPlus" }
        ]
      },
      {
        type: "table",
        columns: [
          { header: "Name", accessorKey: "name" },
          { header: "Role", accessorKey: "role" },
          { header: "Department", accessorKey: "department" },
          { header: "Status", accessorKey: "status" },
          { header: "Last Active", accessorKey: "lastActive" }
        ],
        data: [
          { name: "Sarah Chen", role: "Lead Engineer", department: "Engineering", status: "Online", lastActive: "Just now" },
          { name: "Marcus Rodriguez", role: "Designer", department: "Design", status: "Online", lastActive: "2m ago" },
          { name: "Emily Watson", role: "PM", department: "Product", status: "Away", lastActive: "1h ago" },
          { name: "James Kim", role: "DevOps", department: "Engineering", status: "Offline", lastActive: "3h ago" }
        ]
      }
    ]
  }}
  title="Team Members Grid"
  description="Grid with team member data and real-time status indicators"
/>

## Features

- **Sorting** - Multi-column sorting support
- **Filtering** - Column-level filtering
- **Pagination** - Built-in pagination controls
- **Row Selection** - Single and multi-row selection
- **Custom Cells** - Custom cell renderers
- **Responsive** - Mobile-friendly layouts

## Schema API

### Grid

```plaintext
{
  type: 'grid',
  columns: GridColumn[],
  data?: any[],
  sortable?: boolean,
  filterable?: boolean,
  pagination?: boolean | PaginationConfig,
  selectable?: boolean,
  onRowClick?: (row) => void,
  className?: string
}
```

### Column Definition

```plaintext
interface GridColumn {
  header: string;
  accessorKey: string;
  sortable?: boolean;
  filterable?: boolean;
  width?: number | string;
  align?: 'left' | 'center' | 'right';
  cell?: (value, row) => ReactNode;
}
```

## Usage

### Auto-registration (Side-effect Import)

```plaintext
import '@object-ui/plugin-grid';
```

### Manual Registration

```plaintext
import { gridComponents } from '@object-ui/plugin-grid';
import { ComponentRegistry } from '@object-ui/core';

Object.entries(gridComponents).forEach(([type, component]) => {
  ComponentRegistry.register(type, component);
});
```

## Examples

### Grid with Custom Cells

```json
{
  "type": "grid",
  "columns": [
    { "header": "Name", "accessorKey": "name" },
    { 
      "header": "Status", 
      "accessorKey": "status",
      "cell": {
        "type": "badge",
        "label": "${value}",
        "variant": "${value === 'Active' ? 'success' : 'default'}"
      }
    },
    {
      "header": "Actions",
      "accessorKey": "id",
      "cell": {
        "type": "button-group",
        "buttons": [
          { "label": "Edit" },
          { "label": "Delete", "variant": "destructive" }
        ]
      }
    }
  ]
}
```

### Selectable Grid

```json
{
  "type": "grid",
  "columns": [...],
  "data": [...],
  "selectable": true,
  "onSelectionChange": "handleSelection"
}
```

### Grid with Pagination

```json
{
  "type": "grid",
  "columns": [...],
  "data": [...],
  "pagination": {
    "pageSize": 10,
    "showSizeChanger": true,
    "pageSizeOptions": [10, 20, 50, 100]
  }
}
```

### ObjectQL Integration

```json
{
  "type": "object-grid",
  "object": "users",
  "columns": [
    { "header": "Name", "accessorKey": "name" },
    { "header": "Email", "accessorKey": "email" },
    { "header": "Created", "accessorKey": "created_at" }
  ],
  "pagination": true,
  "sortable": true,
  "filterable": true
}
```

## Features

### Sorting

Enable sorting on all or specific columns:

```json
{
  "type": "grid",
  "sortable": true,
  "columns": [
    { "header": "Name", "accessorKey": "name", "sortable": true },
    { "header": "Email", "accessorKey": "email", "sortable": false }
  ]
}
```

### Filtering

Enable column-level filtering:

```json
{
  "type": "grid",
  "filterable": true,
  "columns": [
    { "header": "Status", "accessorKey": "status", "filterable": true }
  ]
}
```

### Row Actions

Add action buttons to each row:

```json
{
  "type": "grid",
  "rowActions": [
    { "label": "View", "onClick": "viewRow" },
    { "label": "Edit", "onClick": "editRow" },
    { "label": "Delete", "onClick": "deleteRow" }
  ]
}
```

### Inline Editing

Enable inline cell editing for quick data updates:

```json
{
  "type": "object-grid",
  "objectName": "users",
  "columns": [
    { "header": "ID", "accessorKey": "id", "editable": false },
    { "header": "Name", "accessorKey": "name" },
    { "header": "Email", "accessorKey": "email" },
    { "header": "Status", "accessorKey": "status" }
  ],
  "editable": true,
  "onCellChange": "handleCellChange"
}
```

**Features:**
- Double-click or press Enter on a cell to start editing
- Press Enter to save changes
- Press Escape to cancel editing
- Column-level control: Set `editable: false` on specific columns to prevent editing
- Callback support: Use `onCellChange` to handle cell value updates

**Example Handler:**
```javascript
function handleCellChange(rowIndex, columnKey, newValue, row) {
  console.log(`Cell at row ${rowIndex}, column ${columnKey} changed to:`, newValue);
  console.log('Full row data:', row);
  // Update your data source here
}
```

### Batch Editing & Multi-Row Save

Edit multiple cells across multiple rows and save them individually or all at once:

```json
{
  "type": "object-grid",
  "objectName": "products",
  "columns": [
    { "header": "SKU", "accessorKey": "sku", "editable": false },
    { "header": "Name", "accessorKey": "name" },
    { "header": "Price", "accessorKey": "price" }
  ],
  "editable": true,
  "rowActions": true,
  "onRowSave": "handleRowSave",
  "onBatchSave": "handleBatchSave"
}
```

**Features:**
- **Pending changes tracking**: Edit multiple cells across rows before saving
- **Visual indicators**: Modified rows highlighted in amber, modified cells in bold
- **Row-level save/cancel**: Individual row save and cancel buttons
- **Batch operations**: Save All and Cancel All buttons for bulk actions
- **Flexible callbacks**: `onRowSave` for single row, `onBatchSave` for multiple rows

**Example Handlers:**
```javascript
function handleRowSave(rowIndex, changes, row) {
  console.log('Saving row:', rowIndex, changes);
  // Save single row to backend
  await dataSource.update(row.id, changes);
}

function handleBatchSave(allChanges) {
  console.log('Batch saving:', allChanges.length, 'rows');
  // Save all changes at once
  await Promise.all(
    allChanges.map(({ row, changes }) => 
      dataSource.update(row.id, changes)
    )
  );
}
```

## TypeScript Support

```plaintext
import type { GridSchema, GridColumn } from '@object-ui/plugin-grid';

const grid: GridSchema = {
  type: 'grid',
  columns: [...],
  data: [],
  sortable: true,
  pagination: true
};
```

## License

MIT

</PluginLoader>
